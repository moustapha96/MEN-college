{% extends 'base.html.twig' %}

{% block title %}Liste des rapports
{% endblock %}

{% block body %}
	<style>
		table {
			width: 100%;
			border-collapse: collapse;
			overflow-x: auto;
		}

		th,
		td {
			border: 1px solid black;
			padding: 8px;
			text-align: left;
			white-space: nowrap; /* Prevent text from wrapping */
			overflow: hidden;
			text-overflow: ellipsis; /* Display ellipsis (...) for overflowed text */
		}

		th {
			background-color: #f2f2f2;
		}
		td:nth-child(3),
		td:nth-child(4),
		td:nth-child(5) {
			max-width: 200px; /* Adjust the width as needed */
			overflow: hidden;
			text-overflow: ellipsis;
		}
	</style>


	<div class="example-wrapper">
		<h1>Liste des Rapports d'activités

			<div class="table-responsive">
				<table>
					<thead>
						<tr>
							<th>Inspecteur</th>
							<th>Collége</th>
							<th>Activité</th>
							<th>Description</th>
							<th>Résultats</th>
							<th>Statut</th>
							<th>Date Création</th>

						</tr>
					</thead>
					<tbody>
						{% for r in rapports %}
							<tr>
								<td>{{ r.user.firstName ~' '~ r.user.lastName}}</td>
								<td>{{ r.college.nom }}</td>

								<td>{{ r.activite }}
									<br>
									{# {% if r.activiteFichier %}
									
																			<a href="{{ asset('uploads/' ~ r.activiteFichier) }}">Fichier
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								                                                    d'activité</a>
																		{% endif %} #}

								</td>
								<td>{{ r.description }}
									{# <br>
																		{% if r.descriptionFichier %}
									
																			<a href="{{ asset('uploads/' ~ r.descriptionFichier) }}">Fichier 
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															                                                    description</a>
																		{% endif %} #}

								</td>
								<td>{{ r.resultat }}
									{# <br>
									
																		{% if r.resultatFichier %}
									
																			<a href="{{ asset('uploads/' ~ r.resultatFichier) }}">Fichier de
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						                                                    résultat</a>
									
																		{% endif %} #}

								</td>

								<td>
									{{ r.statut }}
								</td>
								<td>{{ r.createdAt|date('Y-m-d H:i:s') }}</td>


							</tr>
						{% endfor %}
					</tbody>
				</table>


			</div>


		</div>
	{% endblock %}
